View(d)
names(test)
names(d)
dd = d %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseType,Seen,-subject,-story,-trial)
nrow
nrow(d)
nrow(dd)
13552/1936
head(dd)
dd = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseType,Seen,-subject,-story,-trial)
head(dd)
nrow(dd)
ggplot(dd %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram()
ggplot(dd %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count")
theme_set(theme_bw())
ggplot(dd %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseType,Seen,-subject,-story,-trial)
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseType,Seen,-subject,-story,-trial,-trial)
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_reoprt_chosen,none_of_above_chosen) %>%
gather(ResponseType,Seen,-subject,-story,-trial,-trial)
ggplot(dchosen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_reoprt_chosen,none_of_above_chosen) %>%
gather(ResponseType,Seen,-subject,-story,-trial,-trial)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseType,Seen,-subject,-story,-trial,-trial)
ggplot(dchosen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
ggplot(dchosen %>% filter(Seen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip()
ggplot(dchosen %>% filter(Seen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~story)
head(dchose)
head(dchosen)
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,-subject,-story,-trial,-trial)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial)
ggplot(dchosen %>% filter(Seen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~subject)
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~subject)
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseTypeChosen,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~subject)
nrow(dseeen)
nrow(dseen)
nrow(dchosen)
names(dseen)
names(dchosen)
dd = dseen %>%
left_join(dchosen,by=c("subject","story","trial"))
nrow(dd)
head(dd)
dd[dd$subject == "A1LOUZD99NZCT2" & dd$story == "high_inspector" & dd$ResponseTypeSeen == "exhaustive_seen",]
?separate
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
separate(ResponseTypeChosen,ResponseType,Chosen,sep="_")
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
separate(ResponseTypeChosen,c("ResponseType","Chosen"),sep="_")
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
separate(ResponseTypeChosen,into=c("ResponseType","chosen"),sep="_")
nrow(dchosen)
head(dchosen)
summary(dchosen)
names(d)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T))
head(dchosen)
tail(dchosen)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
tail(dchosen)
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_seen","",ResponseTypeSeen,fixed=T)) %>%
select(-ResponseTypeSeen)
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip()
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~story)
dd = dseen %>%
left_join(dchosen,by=c("subject","story","trial","ResponseType"))
nrow(dd)
head(dd)
dd[dd$subject == "A1LOUZD99NZCT2" & dd$story == "high_inspector",]
agr = dd %>%
group_by(subject,story) %>%
summarize(SumChosen=sum(Chosen)) %>%
group_by(subject) %>%
summarize(MeanChosen=mean(SumChosen),CILow=ci.low(SumChosen),CIHigh=ci.high(SumChosen)) %>%
ungroup() %>%
mutate(YMin=MeanChosen-CILow,YMax=MeanChosen+CIHigh)
ggplot(agr, aes(x=subject,y=MeanChosen)) +
geom_bar(stat="identity",color="black",fill="gray80") +
geom_errorbar(aes(ymin=Ymin,ymax=YMax),width=.25)
ggplot(agr, aes(x=subject,y=MeanChosen)) +
geom_bar(stat="identity",color="black",fill="gray80") +
geom_errorbar(aes(ymin=YMin,ymax=YMax),width=.25)
ggplot(agr, aes(x=reorder(subject,MeanChosen),y=MeanChosen)) +
geom_bar(stat="identity",color="black",fill="gray80") +
geom_errorbar(aes(ymin=YMin,ymax=YMax),width=.25)
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject)
ggplot(agr, aes(x=subject,fill=ResponseType)) +
geom_histogram()
ggplot(agr, aes(x=subject,fill=ResponseType)) +
geom_histogram(stat="count")
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject) %>%
mutate(Sum=nrow(.))
head(agr)
nrow(agr)
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject) %>%
count()
head(Agr)
agr
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject,ResponseType) %>%
count()
agr
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject) %>%
summarize(Sum=sum(Chosen))
agr
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject) %>%
summarize(Sum=sum(Chosen)) %>%
ungroup()
agr
?unnest
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject,ResponseType) %>%
summarize(Sum=sum(Chosen)) %>%
unnest()
agr
agr[agr$subject == 10,]
agr = dd %>%
filter(Chosen==1)
ggplot(agr, aes(x=subject,fill=ResponseType)) +
geom_histogram(stat="count")
agr = dd %>%
filter(Chosen==1) %>%
group_by(subject) %>%
mutate(count = n())
agr
dd[dd$subject == "A1LOUZD99NZCT2",]
dd[dd$subject == "A1LOUZD99NZCT2" & dd$Chosen == 1,]
ggplot(agr, aes(x=reorder(subject,count),fill=ResponseType)) +
geom_histogram(stat="count")
ggplot(agr, aes(x=reorder(subject,count),fill=ResponseType)) +
geom_histogram(stat="count") +
facet_wrap(~trial)
ggplot(agr, aes(x=reorder(subject,count),fill=ResponseType)) +
geom_histogram(stat="count") #+
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(-exhaustive_seen,subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
nrow(agr)
nrow(d)
head(agr)
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
nrow(agr)
agr
tail(agr)
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject)
head(agr,20)
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh))
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ggtitle("exhaustive seen")
agr = d %>%
filter(mention_one_high_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,mention_one_high_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-mention_one_high_seen) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ggtitle("mention_one_high seen")
ggsave("mention_one_high_seen.pdf")
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ggtitle("exhaustive seen")
ggsave("exhaustive_seen.pdf")
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
coord_flip() +
ggtitle("exhaustive seen")
ggsave("exhaustive_seen.pdf")
agr = d %>%
filter(mention_one_high_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,mention_one_high_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-mention_one_high_seen) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
coord_flip() +
ggtitle("mention_one_high seen")
ggsave("mention_one_high_seen.pdf")
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ylim(0,1) +
coord_flip() +
ggtitle("mention_one_high seen")
ggsave("mention_one_high_seen.pdf")
agr = d %>%
filter(exhaustive_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-exhaustive_seen,) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ylim(0,1) +
coord_flip() +
ggtitle("exhaustive seen")
ggsave("exhaustive_seen.pdf")
ggsave("exhaustive_seen.pdf",width=6)
agr = d %>%
filter(mention_one_high_seen == 1 & trial %in% c("high","low")) %>%
select(subject,story,trial,mention_one_high_seen,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial,-mention_one_high_seen) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen) %>%
arrange(story,subject) %>%
group_by(trial,ResponseType) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
dodge=position_dodge(.9)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ylim(0,1) +
coord_flip() +
ggtitle("mention_one_high seen")
ggsave("mention_one_high_seen.pdf",width=6)
names(d)
View(d)
d$alternatives = paste(d$tag_a,d$tag_b,d$tag_c)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(alternatives,subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-alternatives) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
head(dchosen)
table(dchosen)
table(dchosen$alternatives)
a = c("a","c","b")
sort(a)
paste(sort(a),sep="000")
?paste
paste(sort(a),collapse="000")
a
d$alternatives = paste(sort(d$tag_a,d$tag_b,d$tag_c))
tmp = d %>%
mutate(alternatives= paste(sort(tag_a,tag_b,tag_c)))
tmp = d %>%
rowwise() %>%
mutate(alternatives= paste(sort(tag_a,tag_b,tag_c)))
paste(sort(a))
tmp = d %>%
rowwise() %>%
mutate(paste(sort(tag_a,tag_b,tag_c)))
tmp = d %>%
rowwise() %>%
mutate(alternatives=paste(sort(c(tag_a,tag_b,tag_c))))
tmp = d %>%
# rowwise() %>%
mutate(alternatives=paste(sort(c(tag_a,tag_b,tag_c))))
nrow(d)
d$alternatives = pate(d$tag_a,d$tag_b,d$tag_c)
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(alternatives,subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-alternatives) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
head(dchosen)
agr = dchosen %>%
group_by(trial,ResponseType,alternatives) %>%
summarize(Mean=mean(Chosen),CILow=ci.low(Chosen),CIHigh=ci.high(Chosen)) %>%
ungroup() %>%
mutate(YMin=Mean-CILow,YMax=Mean+CIHigh)
ggplot(agr, aes(x=ResponseType,y=Mean,fill=trial)) +
geom_bar(stat="identity",position=dodge) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),position=dodge,width=.25) +
ylim(0,1) +
coord_flip() +
facet_wrap(~alternatives) +
ggtitle("mention_one_high seen")
ggsave("results_by_alternatives.pdf",width=20,height=15)
?distinct()
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_seen","",ResponseTypeSeen,fixed=T)) %>%
select(-ResponseTypeSeen)
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,-subject,-story,-trial) %>%
mutate(ResponseType=gsub("_seen","",ResponseTypeSeen,fixed=T)) %>%
select(-ResponseTypeSeen)
# plot the distribution of the answers seen, out of 1200
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
coord_flip()
# plot the distribution of the answers seen, out of 1200
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
facet_wrap(~trial)
# plot the distribution of the answers seen, out of 1200
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
facet_wrap(~trial) +
coord_flip()
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,trial,-subject,-story) %>%
mutate(ResponseType=gsub("_seen","",ResponseTypeSeen,fixed=T)) %>%
select(-ResponseTypeSeen)
# plot the distribution of the answers seen, out of 1200
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
facet_wrap(~trial) +
coord_flip()
dseen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_seen,mention_one_high_seen,mention_one_low_seen,mention_some_high_seen,mention_some_low_seen,false_report_seen,none_of_above_seen) %>%
gather(ResponseTypeSeen,Seen,-subject,-story,-trial) %>%
mutate(ResponseType=gsub("_seen","",ResponseTypeSeen,fixed=T)) %>%
select(-ResponseTypeSeen)
# plot the distribution of the answers seen, out of 1200
ggplot(dseen %>% filter(Seen == 1), aes(ResponseType)) +
geom_histogram(stat="count") +
facet_wrap(~trial) +
coord_flip()
#
dchosen = d %>%
filter(trial %in% c("high","low")) %>%
select(subject,story,trial,exhaustive_chosen,mention_one_high_chosen,mention_one_low_chosen,mention_some_high_chosen,mention_some_low_chosen,false_report_chosen,none_of_above_chosen) %>%
gather(ResponseTypeChosen,Chosen,-subject,-story,-trial,-trial) %>%
mutate(ResponseType=gsub("_chosen","",ResponseTypeChosen,fixed=T)) %>%
select(-ResponseTypeChosen)
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip()
ggplot(dchosen %>% filter(Chosen == 1), aes(ResponseType,fill=trial)) +
geom_histogram(stat="count",position="dodge") +
coord_flip() +
facet_wrap(~story)
