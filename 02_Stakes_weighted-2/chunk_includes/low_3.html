<style>
    label {
        display: inline-block;
        margin-bottom: 8px;
    }
    a.left {
        padding-right: 5px;
    }
    a.right {
        padding-left: 5px;
    }
    body {
        font-size: 18px;
    }
</style>
<div align="center">
    <div id="trialDiv">

<div id="storyDiv", style="width: 40em;">
    <p>Johanna is new to Minneapolis and wants to try local coffee shops. 
      The Ultimate Coffee Guide 2018 ranks cafes on a ten-point scale, where ten is the highest number of points. 
      Minneapolis has the following ranking for coffee roasteries:</p>
    <ul style="list-style: none">
      <li>Cafe E has 10 stars,</li>
      <li>Cafe B has 8,</li>
      <li>Cafe F has 5,</li>
      <li>Cafe C has 2,</li>
      <li>Cafe D has 1, and</li>
      <li>Cafe A has 0.</li>
    </ul>

<p>She asks three classmates who are originally from the city, "Where should I get coffee?"</p>
</div>

        <table cellpadding="10" cellspacing="4">
        <tr>
          <td align="center">Who knows where to get coffee? (Choose all that apply)</td><br>
        </tr>
        <tr class="bordered">
        <td align="center">
            <label for="classmate_a"><input type="checkbox" id="classmate_a" name="coffee_classmate_A_chosen" value="Classmate A" ><span>Classmate 1</span></label>
            <label for="classmate_b"><input type="checkbox" id="classmate_b" name="coffee_classmate_B_chosen" value="Classmate B" ><span>Classmate 2</span></label>
            <label for="classmate_c"><input type="checkbox" id="classmate_c" name="coffee_classmate_C_chosen" value="Classmate C" ><span>Classmate 3</span></label>
            <label for="no_one"><input type="checkbox" id="no_one" name="no_one_chosen" value="No one"><span>No one</span></label>
        </td>

    </tr>

</table>
</div>
</div>

<div id = "answer_report_div" style="visibility: hidden">
</div>
<!--end html-->

<script type="text/javascript">



    String.prototype.format = function() {
    var s = this,
        i = arguments.length;

    while (i--) {
        s = s.replace(new RegExp('\\{' + i + '\\}', 'gm'), arguments[i]);
    }
    return s;
    };

   var storyDiv = document.getElementById('storyDiv');

      // the array of possible answers
   var answers = Array('Cafes E, B, F, C and D.', 'Cafe E.', 
                  'Cafes E and B.', 'Cafes F and D.', 'Cafe D.', 'Cafe A.');

   var weights = Array(10,20,20,20,20,10);
   
   var answers_array = Array();

   for ( i = 0; i < 3; i++) {
       answers_array.push(pickUsingWeightsAndRemove(answers,weights));
   }
   
   var classmate_A_answer = 'Classmate 1 says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   var classmate_B_answer = 'Classmate 2 says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   var classmate_C_answer = 'Classmate 3 says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   //
   var answer1 = document.createElement('p');
   var ans1node = document.createTextNode(classmate_A_answer);
   answer1.appendChild(ans1node);
   storyDiv.appendChild(answer1);

   var answer2 = document.createElement('p');
   var ans2node = document.createTextNode(classmate_B_answer);
   answer2.appendChild(ans2node);
   storyDiv.appendChild(answer2);

   var answer3 = document.createElement('p');
   var ans3node = document.createTextNode(classmate_C_answer);
   answer3.appendChild(ans3node);
   storyDiv.appendChild(answer3);

   // create a textarea element that will hold the answer values for this trial
   var answer_report = document.createElement('textarea');
   answer_report.id = "answer_report";
   answer_report.setAttribute("name","answers_reported")
   answer_report.setAttribute("placeholder","{0},{1},{2}".format(classmate_A_answer,classmate_B_answer,classmate_C_answer));

   // append it to the hidden answer_report div in the body HTML
   document.getElementById("answer_report_div").appendChild(answer_report);
   document.getElementById("answer_report").append("placeholder","{0},{1},{2}".format(classmate_A_answer,classmate_B_answer,classmate_C_answer));



</script>